.page-header
  %h2 Listing Test Suites
  -if can? :create, TestSuite
    = link_to 'New Test Suite', new_admin_project_test_suite_path(project), :class => 'btn primary'
  = form_for @search, :url => admin_project_test_suites_path, :remote => true do |f|
    %span.search
      = f.text_field :name_or_test_type_name_or_creator_display_name_contains, {:id => 'search'}
      = f.submit '', {:class => 'btn', :id => 'searchsubmit'}
.test-suites
  %table.zebra-striped
    %tr
      %th Name
      %th Test Type
      %th Creator
      %th Created At
      %th

    - if test_suites.nil? or test_suites.count == 0
      %tr
        %td{:colspan => "5"}
          %h4 No data
    - else
      - test_suites.each do |test_suite|
        %tr
          %td
            - ts_name = test_suite.name
            - if ts_name && ts_name.length >= 100
              - ts_name = ts_name.slice(0,100).concat("...")
            %span{:title => test_suite.name}= ts_name
          %td= test_suite.test_type.name
          %td= test_suite.creator.display_name
          %td= in_time_zone(test_suite.created_at)
          = render :partial => 'partial/table_actions', :locals => {:show_url => admin_project_test_suite_path(project, test_suite), :edit_url => edit_admin_project_test_suite_path(project, test_suite), :confirm_msg => "Delete Test Suite will also delete all Test Rounds refering this Test Suite, are you sure to delete?", :no_view_action => true}

= link_to 'Back', admin_project_path(project), :class => 'btn'

= paginate test_suites