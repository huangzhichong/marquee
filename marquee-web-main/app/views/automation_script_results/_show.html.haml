.row.sub-header
  .span9.columns
    %img.big-icon{:src => asset_path("#{@automation_script_result.result}.png")}
    %h2
      =link_to "Test Rounds", project_test_rounds_path(@project), :remote => true
      %span= " / "
      =link_to "#{@test_round.test_type.name}##{@test_round.id}", project_test_round_path(@project, @test_round), :remote => true
      %span=" / "
      - as_name = @automation_script_result.name
      - if as_name && as_name.length >= 30
        - as_name = as_name.slice(0,30).concat("...")
      %span{:title => @automation_script_result.name}="#{as_name}"
  .span3.columns#right
    .span1.columns
      - asr =  @automation_script_result
      - project = @automation_script_result.test_round.project
      - if asr.result != "pass" && asr.result != "pending" && asr.triage_result == "N/A" && can?(:update, AutomationScriptResult, {:project_id => project.id}) 
        %input.btn.primary.rerun_btn{:type => "button", :value => "Rerun", "remote-data" => "/automation_script_results/#{asr.id}/rerun",:style=>"float: right;"}
    .span2.columns{:style=>"float: right;"}
      -sa = @automation_script_result.slave_assignments.last
      -if sa && sa.slave && @automation_script_result.end_time
        = link_to "Show Log", test_round_automation_script_result_show_logs_path(@automation_script_result.test_round, @automation_script_result), :class => "btn primary"
        
= render 'brief_info'
= render :partial => "partial/service_info", :locals => {:asr => @automation_script_result}
.list-content-box
  = render :partial => 'automation_case_results/list', :locals => {:automation_case_results => @automation_case_results, :automation_script_result => @automation_script_result, :search => @search}

:javascript
  $(function(){   
    $("input.rerun_btn:not(:disabled)").click(function(){
      $(this).addClass("disabled");
      $(this).disabled = true;
      $.ajax({url: $(this).attr("remote-data")}).success(function(data) {
        location.reload();
      })
    });    
  });